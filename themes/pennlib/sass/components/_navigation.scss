header nav {
  @include content-container;
  outline: 0;

  .nolink {
    cursor: pointer;
  }

  .main-nav {
    @include cf();
    position: relative;
    top: 2.75em;
    display: block;
    padding: 0;
    margin: 0;
    z-index: 10;

    @include breakpoint($breakpoint-medium-width) {
      top: 0;
      margin: 0 30px;
    }
    #main-nav-library-info, #main-nav-research, #main-nav-collections{
      > .main-nav__sub {
        width: 38.9rem;
      }
    }
    #main-nav-facilities {
      > .main-nav__sub {
        width: 56rem;
      }
    }

    #main-nav-courseware { 
      > .main-nav__sub {
        width: 24rem;
      }
    }
    #main-nav-tools { 
      > .main-nav__sub {
        width: 20rem;
      }
    }

    // Styling for top-level (landing page) links
    > .parent {
      margin: 0;
      position: relative;
      display: inline-block;
      height: 100%;
      display: none;

      @include breakpoint($breakpoint-medium-width) {
        @include inline-block;
        @include col(1/6, $gutter:0);
      }

      
      &:hover {
        ul.main-nav__sub {
          top: 37px;
          opacity: 1;
          visibility: visible;
          z-index: 10;
          }
      }
    
      &:hover,
      &:focus,
      &.is-hovered {
          background: $white;
          h3 a {
            color: $orange;
            text-decoration: none;
          }
        }
    
      h3 {
        margin: 0;
        font-size: 1.5rem;
        font-weight: normal;
        letter-spacing: .05rem;
      }
      h4 {
          font-size: 1em;
          font-style: oblique;
          font-weight: bold;
          margin: 0;
          padding: 0 0 0.546rem 0.7rem;
      }
      a {
        padding: 10px 0;
        text-decoration: none;
        text-align:center;
        display:block;
      }
      > ul.main-nav__sub {
        padding: 1em 0;
        box-shadow: 0.07rem 0.2rem 0.2rem #8d8d8d;
        > li.main-nav__item {
          left: 0px; 
          position:relative;
          top: 0;
          @include inline-block;
          width: 18rem;
          padding: 0 0 0 1.4rem;
          border-left: dotted 1px #bbb;
          &:first-child {
            border-left: none;
          }
          ul.main-nav__sub {
            opacity: 1; 
            position: relative;
            top:0;
            width: 16rem;
            min-width: 16rem;
            box-shadow: none;
            padding: 0;
            li {
              width: 100%;
              display: block;
              margin-bottom: 0;
              padding: .546rem .7rem;
            }
          }
        }
      }
    }//end parent

    // Mobile top-level links
    &.show {
      > .parent {
        display: block;
        width: 100%;
        background-color: white;
        border-bottom: 1px solid $grey-skies;
      }
      li {
        a {
          @include link-colors($black, $hover: $orange, $active: $orange, $focus: $orange);
          text-align: left;
          padding: 1em 2em;

          &::after {
            float: right;
            content: '>'; //TODO: replace with arrow image
          }
        }
      }
      // Hide sub-menus in mobile nav.
      ul.main-nav__sub {
        display: none;
      }
    }
  } //end .main-nav

  ul.main-nav__sub {
    background: $white;
    border: 0;
    margin: 0;
    padding: 20px 0;
    position: absolute;
    left: 0;
    right: 0;
    top: 100px;
    min-width: 200px;
    opacity: 0;
    visibility: hidden;
    box-shadow: .17em .17em .17em #8d8d8d;
    border-left: solid 1px $silver;
    
    li.main-nav__item {
      margin-bottom: 8px;
      padding: 0 10px;
      display: block;
      a {
        text-align:left;
        padding:0;
        color: #000;
        &:hover, &:focus {
          background: transparent;
          text-decoration: none;
        }
        &.is-active {
          background: transparent;
        }
      }
      &:last-child {
        margin-bottom: 0;
      }
      .main-nav__sub {
        border-left: none;
        > .main-nav__item {
            &:hover {
              @include mainnavleafblue;
              a {
                @include blueactivegradienttext;
              }
            }
         }
       }
    }
  } //end ul.main-nav__sub
} //end header nav
//single column menus - probably temporary
header nav .main-nav {
  > #main-nav-courseware.parent, > #main-nav-tools.parent {
    > .main-nav__sub  {
      padding: 1.4em;
      > .main-nav__item {
        display: block;
        margin-bottom: 0;
        padding: 0.546rem 0.7rem;
        width: 100%;
        border-left:none;
        &:hover {
          @include mainnavleafblue;
          a {
            @include blueactivegradienttext;
          }
        }
      }
    }
  }
}
/*main-nav-tools*/
//***************
// Hamburger icon
//***************
#mobile-nav {
  $span-transition: all .3s cubic-bezier(0.7, 0, 0.36, 0.63);
  width: 3em;
  height: 2.75em;
  float: right;
  background-color: $silver;
  display: block;
  overflow: hidden;

  @include breakpoint($breakpoint-medium-width) {
    display: none;
  }

  #mobile-button {
    display: block;
    width: 100%;
    height: 100%;
    position: relative;
  }

  span {
    display: block;
    position: relative;
    background: $zivtech-dark;
    height: 5px;
    transition: $span-transition;
    width: 30px;
    top: 17px;
    margin: 0 auto;
    &:before, &:after {
      content: "";
      display: block;
      background: $zivtech-dark;
      height: 5px;
      margin-top: 0;
      position: absolute;
      width: 30px;
      transition: $span-transition;
    }
    &:before {
      top: 8px;
    }
    &:after {
      top: -8px;
    }
  }

  .on {
    span {
      background: transparent;
      &:before,
      &:after {
        top: 0;
      }
      &:before {
        transform: rotate(45deg);
      }
      &:after {
        transform: rotate(-45deg);
      }
    }
  }
} //end #mobile-nav






